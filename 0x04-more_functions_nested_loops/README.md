more nested functiona and loop
